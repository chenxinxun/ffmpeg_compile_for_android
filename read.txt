====脚本作用====
编译Android平台的FFmpeg。集成处理MP3的Lame，处理H264编码的x264，处理aac音乐的fdk-acc，处理https的openssl。

====环境准备====
使用windows进行交叉编译时生成的库会出问题，所以用Linux。
下载Linux版的NDK。
下载Lame，X264、fdk-aac、openssl、ffmpeg源码。

====脚本相关====
将所有脚本与要编译的库放在同一目录下，例如如下结构，库源码与脚本都放在了libs目录下：
libs
--lame（文件夹）
--x264（文件夹）
--fdk-aac（文件夹）
--build-lame.sh（脚本）
--...
--...

修改config.sh中的ANDROID_NDK_ROOT、TOOLCHAIN变量为自己环境的值。

如果想用其他版本的API编译，修改config.sh 中的AOSP_API。

将库源码放到相应的目录下（lame、openssl等文件夹下），或者修改各个构建脚本（*_all.sh和config.sh除外）中“cd xxx”的xxx为自己库源码所在的位置。

====编译====
先生成lame、X264、fdk-acc、openssl，最后生成FFmpeg，将前面四个库集成生成到FFmpeg。
编译方法：

打开终端，切换到脚本所在目录，执行如 ./lame.sh arm64-v8a 格式的命令生成库。脚本后的参数可参考config里的选项。

*.all.sh 用来生成各个库的所有版本，all.sh用来生成所有库，如果想最简单地一次性生成所有平台的库，使用该脚本。


====特别注意====
脚本中configure选项要换行时，\后面不能有空格，否则会引发--xxx command not found错误，从而影响生成/ffbuild/config.mk，导致不能编译。

====说明====
config.sh，该脚本定义了基础变量，在其他脚本中引用。

编译后会在脚本所在目录生成一个名为libs的目录，编译好的库都输出到libs目录。

lame、openssl、fdk-acc、X264可以编译为静态库，FFmpeg链接其他库编译为动态库。



====版本信息====
fdk-aac 2.0.1
ffmpeg 4.3.1
lame 3.100
openssl 1.1.1i
x264 (2020.12.31最新版）
ndk 21
api 21(android 5.0)